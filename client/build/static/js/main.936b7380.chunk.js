(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,n){e.exports=n(76)},49:function(e,t,n){},50:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(31),r=n.n(o),s=n(6),i=n(13),l=(n(49),n(1)),u=n(2),p=n(4),m=n(3),d=n(5),h=(n(50),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).createImage=function(){document.querySelector("#image").src="data:image/png;base64,"+n.props.pngData},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){this.createImage()}},{key:"render",value:function(){return c.a.createElement("div",{className:"Image"},c.a.createElement("img",{alt:"colorful picture",id:"image",src:""}))}}]),t}(a.Component)),b=Object(s.b)(function(e){return{imageSize:e.image_size,pngData:e.png_data}},null)(h),g=n(9),f=n.n(g),_=n(11),E=n(10),v=n(15),O=n.n(v),k=function(e,t,n){return function(){var a=Object(_.a)(f.a.mark(function a(c){var o,r,s,i,l;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o="/api/load/".concat(e),a.next=3,O.a.post(o,{titles:n});case 3:r=a.sent,s=r.data.image_size,i=r.data.png_data,l=r.data.title,n=r.data.titles,c(y(s,i,n,t)),c(j(t,s,l));case 10:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},y=function(e,t,n,a){return{type:"DO_INITIAL_FETCH_SUCCESS",image_size:e,png_data:t,titles:n,meta:{mixpanel:{event:"Load Game",props:{titles:n,difficulty:a}}}}},j=function(e,t,n){return function(){var a=Object(_.a)(f.a.mark(function a(c){var o,r,s,i;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o="/api/options/".concat(e,"?title=").concat(n),a.next=3,O.a.get(o);case 3:r=a.sent,s=r.data.color_options,i=r.data.labels,c(N(s,i,n)),c(S(null,t,s));case 8:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},N=function(e,t,n){return{type:"GET_COLOR_OPTIONS_SUCCESS",color_options:e,labels:t,title:n}},S=function(e,t,n,a){var c,o=t[0]/5-2,r=n.map(function(t,n){return n===e&&(c=1===a?{backgroundColor:"rgb(".concat(t,")"),width:"".concat(o,"px"),height:"".concat(o,"px"),border:"1px solid rgb(0,200,83)",borderRadius:"10px",margin:"1px"}:{backgroundColor:"rgb(".concat(t,")"),width:"".concat(o,"px"),height:"".concat(o,"px"),border:"1px solid rgb(205,208,210)",borderRadius:"10px",margin:"1px"},t=[236,249,249]),{backgroundColor:"rgb(".concat(t,")"),width:"".concat(o,"px"),height:"".concat(o,"px"),border:"1px solid rgb(205,208,210)",borderRadius:"10px",margin:"1px"}});return n[e]=[236,249,249],{type:"SET_BUTTON_STYLES",button_styles:r,choice_color:c,color_options:n}},C=function(e,t,n,a,c,o){var r=0,s=0,i=!1,l=!1;return 1===t&&(r=100/a.length,s=10),n.length===a.length&&(l=!0),1===t&&c===100-r&&(i=!0),{type:"CHOOSE_COLOR_SUCCESS",png_data:e,color_options:a,chosen_place:t,choices:n,percentage:r,score:s,chosen_ranking:o,meta:{mixpanel:{event:"Choose Color",props:{percentage:c,win:i,end:l}}}}},w=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this,n=this.props.buttonStyle.backgroundColor;return e="rgb(236,249,249)"===n||"rgb()"===n?Object(E.a)({},this.props.buttonStyle,{border:"rgb(236,249,249)"}):this.props.buttonStyle,c.a.createElement("div",{style:e,onClick:this.props.button_colored[this.props.place]?Object(_.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.unsetClick(t.props.button_colored,t.props.place);case 2:return e.next=4,t.props.chooseColor(t.props.place,t.props.choices,t.props.image_size,t.props.labels,t.props.title,t.props.color_options,t.props.percentage);case 4:case"end":return e.stop()}},e)})):null})}}]),t}(a.Component),x=Object(s.b)(function(e){return{image_size:e.image_size,labels:e.labels,title:e.title,color_options:e.color_options,choices:e.choices,percentage:e.percentage,button_colored:e.button_colored}},function(e){return{chooseColor:function(t,n,a,c,o,r,s){return e(function(e,t,n,a,c,o,r){return function(){var s=Object(_.a)(f.a.mark(function s(i){var l,u,p,m,d;return f.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l="/api/choose/".concat(e,"?title=").concat(c),s.next=3,O.a.post(l,{labels:a,choices:t});case 3:u=s.sent,p=u.data.png_data,m=u.data.chosen_place,d=u.data.chosen_ranking,t=u.data.choices,i(C(p,m,t,o,r,d)),i(S(e,n,o,m));case 10:case"end":return s.stop()}},s)}));return function(e){return s.apply(this,arguments)}}()}(t,n,a,c,o,r,s))},unsetClick:function(t,n){return e(function(e,t){return{type:"UNSET_CLICK",button_colored:e.map(function(e,n){return n!==t&&!1!==e})}}(t,n))}}})(w),I=(n(69),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"ButtonWrapper"},this.props.button_styles.map(function(e,t){return c.a.createElement("div",{className:"button"},c.a.createElement(x,{key:t,place:t,buttonStyle:e}))}))}}]),t}(a.Component)),T=Object(s.b)(function(e){return{button_styles:e.button_styles}},null)(I),P=n(12),R=(n(70),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"Filler",style:{width:"".concat(this.props.percentage,"%")}})}}]),t}(a.Component)),U=Object(s.b)(function(e){return{percentage:e.percentage}},null)(R),A=(n(71),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"ScoreBar VerticalStripes"},c.a.createElement(U,null))}}]),t}(a.Component)),L=(n(72),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).updateHighScore=function(e){n.setState({highScore:e})},n.findEnding=function(){return 1===n.props.chosenRanking?"st":2===n.props.chosenRanking?"nd":3===n.props.chosenRanking?"rd":"th"},n.state={highScore:0},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){this.props.score>this.state.highScore&&this.updateHighScore(this.props.score)}},{key:"render",value:function(){var e=this,t=this.findEnding();return 0===this.props.choices.length?1===this.props.titles.length&&c.a.createElement("div",{className:"display-4 instructions"},c.a.createElement("h4",null,"Score by picking the most prevalent color each turn")):c.a.createElement("div",null),c.a.createElement("div",{className:"Display"},c.a.createElement("div",{className:"score_board"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row difficulties"},c.a.createElement("div",{className:"col-3"},c.a.createElement("div",{className:"btn btn-outline-secondary difficulty",onClick:function(){e.props.doInitialFetch("next",5,e.props.titles)}},c.a.createElement(P.b,{className:"options"}))),c.a.createElement("div",{className:"col-3"},c.a.createElement("div",{className:"btn btn-outline-secondary difficulty",onClick:function(){e.props.doInitialFetch("next",10,e.props.titles)}},c.a.createElement(P.d,{className:"options"}))),c.a.createElement("div",{className:"col-3"},c.a.createElement("div",{className:"btn btn-outline-secondary difficulty",onClick:function(){e.props.doInitialFetch("next",15,e.props.titles)}},c.a.createElement(P.a,{className:"options"})))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{class:"col-5 col-lg-8"},c.a.createElement("div",{className:"score"},"Score: ".concat(this.props.score))),c.a.createElement("div",{class:"col-7 col-lg-4 "},c.a.createElement("div",{className:"choice float-right"},this.props.chosenRanking?1===this.props.chosenPlace?c.a.createElement(P.c,{className:"correct"}):c.a.createElement(P.e,{className:"wrong"}):""))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"scorebar"},this.props.titles.length>1?c.a.createElement("div",{className:"highscore"},"Your high score is: ".concat(this.state.highScore)):c.a.createElement("div",null),c.a.createElement(A,null)))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"guess",style:this.props.choiceColor}),this.props.chosenRanking?c.a.createElement("div",null,c.a.createElement("div",{className:"common"},"was the ".concat(this.props.chosenRanking).concat(t," most")),c.a.createElement("div",{className:"common"},"common")):c.a.createElement("div",null))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},100===this.props.percentage?c.a.createElement("img",{alt:"you win!",className:"win",src:"https://media.giphy.com/media/3oz8xAFtqoOUUrsh7W/giphy.gif"}):c.a.createElement("div",null))))))}}]),t}(a.Component)),z=Object(s.b)(function(e){return{chosenPlace:e.chosen_place,score:e.score,titles:e.titles,buttonStyles:e.button_styles,choiceColor:e.choice_color,percentage:e.percentage,choices:e.choices,chosenRanking:e.chosen_ranking}},function(e){return{doInitialFetch:function(t,n,a){return e(k(t,n,a))}}})(L),D=(n(73),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).showImage=function(){n.props.sneakPeaks>0&&(n.state.shown||(document.querySelector("#peek").src="data:image/png;base64,"+n.props.ogPngData,n.setState({shown:!0}),n.startTimer()))},n.startTimer=function(){var e=4,t=setInterval(function(){document.querySelector("#time").innerHTML=e,e>0?e--:(document.querySelector("#peek").src="",n.setState({shown:!1}),clearInterval(t))},1e3)},n.state={shown:!1},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"Peek"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("button",{type:"button",className:"btn btn-outline-secondary sneak-peek",onClick:function(){e.props.sneakAPeak(e.props.sneakPeaks),e.showImage()}},"Sneak Peek"),c.a.createElement("div",{className:"sneak-peaks"},"".concat(this.props.sneakPeaks,"x left")))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},this.state.shown?c.a.createElement("div",{className:"timer"},"Sneak peek for ",c.a.createElement("span",{id:"time"},"5")," seconds!"):"",c.a.createElement("img",{id:"peek",src:""}))))}}]),t}(a.Component)),F=Object(s.b)(function(e){return{ogPngData:e.og_png_data,sneakPeaks:e.sneak_peaks}},function(e){return{sneakAPeak:function(t){return e(function(e){return e>0&&--e,{type:"SNEAK_A_PEAK",sneakPeaks:e}}(t))}}})(D),H=(n(74),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.doInitialFetch("new",10,this.props.titles)}},{key:"render",value:function(){return c.a.createElement("div",{className:"Game"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 col-lg-3"},c.a.createElement(F,null)),c.a.createElement("div",{className:"col container text-center center-col"},c.a.createElement(b,null),c.a.createElement(T,null)),c.a.createElement("div",{className:"col"},c.a.createElement(z,null)))))}}]),t}(a.Component)),K=Object(s.b)(function(e){return{button_styles:e.button_styles,titles:e.titles}},function(e){return{doInitialFetch:function(t,n,a){return e(k(t,n,a))}}})(H),q=(n(75),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(K,null))}}]),t}(a.Component)),B={color_options:[],image_size:[],button_colored:[],score:0,percentage:0,chosen_place:0,button_styles:[],choices:[],titles:[],choice_color:{},sneak_peaks:3},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DO_INITIAL_FETCH_SUCCESS":return Object(E.a)({},e,{image_size:t.image_size,png_data:t.png_data,og_png_data:t.png_data,titles:t.titles,button_styles:[],button_colored:[],score:0,percentage:0,chosen_place:0,choices:[],color_options:[],labels:[],choice_color:{},chosen_ranking:0,sneak_peaks:3});case"GET_COLOR_OPTIONS_SUCCESS":return Object(E.a)({},e,{color_options:t.color_options,labels:t.labels,title:t.title,button_colored:t.color_options.map(function(e){return!0})});case"SET_BUTTON_STYLES":return Object(E.a)({},e,{button_styles:t.button_styles,choice_color:t.choice_color,color_options:t.color_options});case"CHOOSE_COLOR_SUCCESS":return Object(E.a)({},e,{png_data:t.png_data,color_options:t.color_options,chosen_place:t.chosen_place,choices:t.choices,percentage:e.percentage+t.percentage,score:e.score+t.score,chosen_ranking:t.chosen_ranking});case"SNEAK_A_PEAK":return Object(E.a)({},e,{sneak_peaks:t.sneakPeaks});case"UNSET_CLICK":return Object(E.a)({},e,{button_colored:t.button_colored});default:return e}},Y=n(35),J=n(17),M=n.n(J),W=n(36),V=n.n(W);M.a.init("ea649757ae9f14683b0c30fbe49a39dc");var Q=new V.a(M.a),X=Object(i.c)(G,Object(i.a)(Y.a,Q));r.a.render(c.a.createElement(s.a,{store:X},c.a.createElement(q,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.936b7380.chunk.js.map